{"version":3,"sources":["shared/components/ActionBar.js","shared/components/ConfirmationDialog.js","shared/components/DimensionField.js","shared/components/index.js","SentryCapturingErrorBoundary.js","App.js","serviceWorker.js","index.js","shared/components/pattern.js","shared/context/Analytics.js","shared/components/Header.js","shared/context/Store.js","shared/components/LoadingIndicator.js","shared/context/index.js"],"names":["ActionHeading","styled","Typography","ActionBar","children","className","paddingamount","Hidden","smDown","variant","Transition","React","forwardRef","props","ref","Slide","direction","ConfirmationDialog","title","message","okText","cancelText","useState","open","setOpen","confirmedCallback","setConfirmedCallback","hide","cancel","rawCallback","event","preventDefault","clonedEvent","target","value","Dialog","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","data-testid","onClick","DimensionField","name","showHelperText","label","component","TextField","type","fullWidth","validate","error","parseDimension","err","helperText","SentryCapturingErrorBoundary","state","eventId","errorInfo","Sentry","scope","setExtras","setState","this","hasError","Component","GlobalStyles","createGlobalStyle","Parts","lazy","Layout","About","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","env","process","REACT_APP_SENTRY_RELEASE","dsn","release","environment","ReactDOM","render","initialState","headerRef","useRef","serializedState","URLSearchParams","search","get","JSON","parse","decodeURIComponent","escape","atob","shared","sharedState","useEffect","navigate","Store","Analytics","StylesProvider","injectFirst","Header","fallback","LoadingIndicator","path","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","span","RouterLink","Link","VerticallyCenteredContainer","div","PaddedPaper","Paper","PrimaryButton","color","SecondaryButton","AnalyticsContext","createContext","AnalyticsProvider","enabled","ReactGA","initialize","Provider","reactGA","useAnalytics","useContext","Error","pageview","useCallback","page","category","action","StyledAppBar","AppBar","AppBarLink","TitleLink","SawIcon","viewBox","d","StyledToolbar","Toolbar","ButtonContainer","HeaderIconButton","IconButton","encodeState","useStore","installPrompt","setInstallPrompt","e","position","ReachLink","to","xsDown","share","a","async","text","url","prompt","userChoice","outcome","MATERIAL_CHANGE","ADD_PART","UPDATE_PARTS","DELETE_MATERIAL","RESET_STATE","ACKNOWLEDGE_WELCOME","HYDRATE","SET_KERF","SET_ROTATION","SET_SELECTION_STRATEGY","SET_SPLIT_STRATEGY","SET_SORT_STRATEGY","defaultInitialState","materials","showWelcome","allowRotation","kerfSize","selectionStrategy","splitStrategy","sortStategy","reducer","material","newMaterials","itemIndex","findIndex","m","modifiedItem","newMaterial","parts","length","Math","max","map","materialChangeReducer","payload","materialId","filter","deleteMaterialReducer","clonedMaterial","updatedParts","p","isNew","updatePartsReducer","sortStrategy","StoreContext","STORAGE_KEY","saveState","localStorage","setItem","stringify","StoreProvider","overrideState","savedState","getItem","useReducer","updatedState","dispatch","useMemo","context","addPart","data","btoa","unescape","encodeURIComponent","updateParts","deleteMaterial","materialChanged","resetState","hydrate","setKerf","setRotation","rotationAllowed","setSelectionStrategy","strategy","setSplitStrategy","setSortStrategy","acknowledgeWelcome","CenteredTypography"],"mappings":"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","file":"static/js/main.a781f9b5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { PaddedPaper, VerticallyCenteredContainer } from \"./pattern\";\r\nimport { Typography, Hidden } from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ActionHeading = styled(Typography)`\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n`;\r\n\r\nexport default function ActionBar({ children }) {\r\n  return (\r\n    <PaddedPaper className=\"pp-action-bar\" paddingamount={10}>\r\n      <VerticallyCenteredContainer>\r\n        <Hidden smDown>\r\n          <ActionHeading variant=\"h6\">Actions:</ActionHeading>\r\n        </Hidden>\r\n        {children}\r\n      </VerticallyCenteredContainer>\r\n    </PaddedPaper>\r\n  );\r\n}\r\n\r\nActionBar.propTypes = { children: PropTypes.node };\r\n","import React, { useState } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PrimaryButton, SecondaryButton } from \"./pattern\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ConfirmationDialog({\r\n  children,\r\n  title,\r\n  message,\r\n  okText = \"Ok\",\r\n  cancelText = \"Cancel\"\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmedCallback, setConfirmedCallback] = useState(null);\r\n\r\n  const hide = () => {\r\n    setOpen(false);\r\n    setConfirmedCallback(null);\r\n  };\r\n\r\n  const confirm = () => {\r\n    confirmedCallback();\r\n    hide();\r\n  };\r\n\r\n  const cancel = () => {\r\n    hide();\r\n  };\r\n\r\n  const show = rawCallback => {\r\n    return event => {\r\n      event.preventDefault();\r\n      //synthetic events get reused, so we cannot depend on\r\n      // this event being the same after async operation, so clone the pieces we want\r\n      const clonedEvent = {\r\n        ...event,\r\n        target: { ...event.target, value: event.target.value }\r\n      };\r\n      setOpen(true);\r\n      // wrap in additional function as useState will call this function\r\n      setConfirmedCallback(() => () => rawCallback(clonedEvent));\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {children(show)}\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={cancel}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            {message}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <PrimaryButton data-testid=\"confirmation-dialog-ok\" onClick={confirm}>\r\n            {okText}\r\n          </PrimaryButton>\r\n          <SecondaryButton\r\n            data-testid=\"confirmation-dialog-cancel\"\r\n            onClick={cancel}\r\n          >\r\n            {cancelText}\r\n          </SecondaryButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nConfirmationDialog.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.array]).isRequired,\r\n  message: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  okText: PropTypes.string,\r\n  cancelText: PropTypes.string\r\n};\r\n","import React from \"react\";\r\nimport { Field } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { parseDimension } from \"parse-dimension\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function DimensionField({\r\n  name,\r\n  showHelperText = true,\r\n  label,\r\n  ...props\r\n}) {\r\n  const validate = value => {\r\n    let error;\r\n    if (!value) {\r\n      error = \"Required\";\r\n    } else {\r\n      try {\r\n        parseDimension(value);\r\n      } catch (err) {\r\n        error = \"Invalid dimension\";\r\n      }\r\n    }\r\n    return error;\r\n  };\r\n  return (\r\n    <Field\r\n      label={label}\r\n      variant=\"filled\"\r\n      component={TextField}\r\n      type=\"text\"\r\n      fullWidth\r\n      name={name}\r\n      validate={validate}\r\n      helperText={showHelperText ? `e.g. 4'10\", 11cm` : null}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nDimensionField.propTypes = {\r\n  name: PropTypes.string,\r\n  showHelperText: PropTypes.bool,\r\n  label: PropTypes.string\r\n};\r\n","export { default as ActionBar } from \"./ActionBar\";\r\nexport { default as Header } from \"./Header\";\r\nexport { default as Footer } from \"./Footer\";\r\nexport { default as ConfirmationDialog } from \"./ConfirmationDialog\";\r\nexport { default as DimensionField } from \"./DimensionField\";\r\nexport { default as LoadingIndicator } from \"./LoadingIndicator\";\r\nexport * from \"./pattern\";\r\n","import React, { Component } from \"react\";\r\nimport * as Sentry from \"@sentry/browser\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PrimaryButton } from \"shared/components\";\r\n\r\nclass SentryCapturingErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { eventId: null };\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    Sentry.withScope(scope => {\r\n      scope.setExtras(errorInfo);\r\n      const eventId = Sentry.captureException(error);\r\n      this.setState({ eventId });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      //render fallback UI\r\n      return (\r\n        <PrimaryButton\r\n          onClick={() =>\r\n            Sentry.showReportDialog({ eventId: this.state.eventId })\r\n          }\r\n        >\r\n          Report feedback\r\n        </PrimaryButton>\r\n      );\r\n    }\r\n\r\n    //when there's not an error, render children untouched\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nSentryCapturingErrorBoundary.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default SentryCapturingErrorBoundary;\r\n","import React, { Suspense, useRef, useEffect, useState } from \"react\";\r\nimport { Router, navigate } from \"@reach/router\";\r\nimport Header from \"./shared/components/Header\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { StylesProvider } from \"@material-ui/core\";\r\nimport { StoreProvider } from \"./shared/context/Store\";\r\nimport { AnalyticsProvider } from \"./shared/context/Analytics\";\r\nimport LoadingIndicator from \"./shared/components/LoadingIndicator\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport PropTypes from \"prop-types\";\r\nimport SentryCapturingErrorBoundary from \"./SentryCapturingErrorBoundary\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\nbody {\r\n  background-color:#333;\r\n  overflow-x:hidden;\r\n}\r\n@media print {\r\n  .MuiAppBar-root {\r\n    display: none;\r\n  }\r\n  .pp-action-bar {\r\n    display: none;\r\n  }\r\n}\r\n`;\r\n\r\nconst Parts = React.lazy(() => import(\"./screens/parts\"));\r\nconst Layout = React.lazy(() => import(\"./screens/layout\"));\r\nconst About = React.lazy(() => import(\"./screens/about\"));\r\n\r\nfunction ErrorFallback({ error }) {\r\n  return (\r\n    <>\r\n      <p>There was an error</p>\r\n      <pre style={{ maxWidth: 700 }}>{JSON.stringify(error, null, 2)}</pre>\r\n    </>\r\n  );\r\n}\r\nErrorFallback.propTypes = { error: PropTypes.object.isRequired };\r\n\r\nfunction atou(b64) {\r\n  return decodeURIComponent(escape(atob(b64)));\r\n}\r\n\r\nexport default function App() {\r\n  const headerRef = useRef();\r\n  let initialState;\r\n  var urlParams = new URLSearchParams(window.location.search);\r\n  const serializedState = urlParams.get(\"share\");\r\n  if (serializedState) {\r\n    initialState = { ...JSON.parse(atou(serializedState)), shared: true };\r\n  }\r\n\r\n  const [sharedState] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    if (initialState) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [initialState]);\r\n\r\n  return (\r\n    <>\r\n      <SnackbarProvider>\r\n        <StoreProvider value={sharedState}>\r\n          <AnalyticsProvider>\r\n            <StylesProvider injectFirst>\r\n              <GlobalStyles />\r\n              <Header ref={headerRef} />\r\n              <SentryCapturingErrorBoundary>\r\n                <Suspense\r\n                  fallback={<LoadingIndicator message=\"Loading Application\" />}\r\n                >\r\n                  <Router>\r\n                    <Parts path=\"/\" />\r\n                    <Layout headerRef={headerRef} path=\"/layout\" />\r\n                    <About path=\"/about\" />\r\n                  </Router>\r\n                </Suspense>\r\n              </SentryCapturingErrorBoundary>\r\n            </StylesProvider>\r\n          </AnalyticsProvider>\r\n        </StoreProvider>\r\n      </SnackbarProvider>\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable no-console */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport * as Sentry from \"@sentry/browser\";\r\n\r\nwindow.env = process.env;\r\nif (process.env.REACT_APP_SENTRY_RELEASE) {\r\n  Sentry.init({\r\n    dsn: \"https://b78fcee4986a4f269690bcd801daf5ff@sentry.io/1880175\",\r\n    release: process.env.REACT_APP_SENTRY_RELEASE,\r\n    environment: process.env.NODE_ENV\r\n  });\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"@reach/router\";\r\nimport { Paper, Button } from \"@material-ui/core\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Text = styled.span`\r\n  font-family: Arial, Helvetica, sans-serif;\r\n`;\r\n\r\nexport const RouterLink = styled(Link)`\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const VerticallyCenteredContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const PaddedPaper = styled(Paper)`\r\n  padding: ${props => props.paddingamount || 20}px;\r\n`;\r\n\r\nexport function PrimaryButton({ children, ...props }) {\r\n  return (\r\n    <Button variant=\"contained\" color=\"primary\" {...props}>\r\n      {children}\r\n    </Button>\r\n  );\r\n}\r\nPrimaryButton.propTypes = { children: PropTypes.node };\r\n\r\nexport function SecondaryButton({ children, ...props }) {\r\n  return (\r\n    <Button variant=\"contained\" {...props}>\r\n      {children}\r\n    </Button>\r\n  );\r\n}\r\nSecondaryButton.propTypes = { children: PropTypes.node };\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nconst AnalyticsContext = React.createContext();\r\n\r\nexport function AnalyticsProvider(props) {\r\n  let enabled = false;\r\n  if (process.env.REACT_APP_ENABLE_ANALYTICS) {\r\n    enabled = true;\r\n    ReactGA.initialize(process.env.REACT_APP_ANALYTICS_TRACKING_ID);\r\n  }\r\n\r\n  return (\r\n    <AnalyticsContext.Provider\r\n      value={{ reactGA: ReactGA, enabled }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function useAnalytics() {\r\n  const { reactGA, enabled } = React.useContext(AnalyticsContext);\r\n  if (!reactGA) {\r\n    throw new Error(\"useAnalytics must be called with a AnalyticsProvider\");\r\n  }\r\n\r\n  return {\r\n    pageview: React.useCallback(page => enabled && reactGA.pageview(page), [\r\n      reactGA,\r\n      enabled\r\n    ]),\r\n    event: React.useCallback(\r\n      ({ category, action }) => enabled && reactGA.event({ category, action }),\r\n      [enabled, reactGA]\r\n    )\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Toolbar,\r\n  AppBar,\r\n  Link,\r\n  SvgIcon,\r\n  IconButton,\r\n  Hidden\r\n} from \"@material-ui/core\";\r\nimport { Link as ReachLink } from \"@reach/router\";\r\nimport styled from \"styled-components\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport { useAnalytics, useStore } from \"shared/context\";\r\n\r\nconst StyledAppBar = styled(AppBar)`\r\n  margin-bottom: 10px;\r\n`;\r\nconst AppBarLink = styled(Link)`\r\n  color: white;\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n  & .MuiIconButton-label {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst TitleLink = styled(AppBarLink)`\r\n  font-size: 200%;\r\n  font-family: \"Lobster\", cursive;\r\n  margin-right: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst SawIcon = styled(({ className }) => {\r\n  return (\r\n    <SvgIcon className={className} viewBox=\"0 -105 448 448\">\r\n      <path d=\"m22.65625 200.390625-4.359375 4.714844h96.367187c11.238282-51.386719 56.738282-88.011719 109.335938-88.011719s98.097656 36.625 109.335938 88.011719h96.367187l-4.359375-4.714844c-2.480469-2.679687-2.832031-6.703125-.847656-9.773437l9.390625-14.527344-13.765625-10.472656c-2.902344-2.214844-3.941406-6.109376-2.519532-9.472657l6.710938-15.945312-15.402344-7.894531c-3.25-1.667969-4.957031-5.324219-4.148437-8.890626l3.824219-16.863281-16.539063-5.101562c-3.464844-1.085938-5.765625-4.371094-5.597656-8l.796875-17.28125-17.167969-2.167969c-3.621094-.457031-6.476563-3.3125-6.933594-6.9375l-2.160156-17.160156-17.28125.800781c-3.628906.167969-6.914063-2.132813-8-5.597656l-5.101563-16.539063-16.875 3.824219c-3.558593.804687-7.210937-.902344-8.878906-4.152344l-7.902344-15.390625-15.945312 6.710938c-3.367188 1.417968-7.261719.375-9.472656-2.535156l-10.472656-13.765626-14.535157 9.390626c-3.070312 1.984374-7.09375 1.632812-9.777343-.847657l-12.742188-11.800781-12.710938 11.761719c-2.683593 2.480469-6.707031 2.828125-9.777343.847656l-14.527344-9.394531-10.472656 13.769531c-2.207031 2.90625-6.105469 3.949219-9.472657 2.535156l-15.941406-6.710937-7.898437 15.382812c-1.667969 3.25-5.324219 4.960938-8.886719 4.152344l-16.863281-3.824219-5.105469 16.535157c-1.085938 3.46875-4.371094 5.765624-8 5.601562l-17.28125-.800781-2.167969 17.167969c-.457031 3.625-3.308593 6.480468-6.933593 6.9375l-17.167969 2.167968.800781 17.277344c.164062 3.628906-2.136719 6.914062-5.601562 8l-16.535157 5.105469 3.824219 16.871093c.800781 3.5625-.90625 7.214844-4.152344 8.882813l-15.394531 7.902344 6.664063 15.96875c1.417968 3.367187.375 7.261719-2.535157 9.472656l-13.75 10.46875 9.390625 14.539063c1.984375 3.070312 1.632813 7.09375-.847656 9.773437zm0 0\" />\r\n      <path d=\"m265.496094 205.105469h51.503906c-10.96875-42.390625-49.214844-71.996094-93-71.996094s-82.03125 29.605469-93 71.996094h51.503906c8.542969-14.851563 24.367188-24.003907 41.496094-24.003907s32.953125 9.152344 41.496094 24.003907zm-1.894532-26.914063 5.65625-5.65625c3.136719-3.03125 8.125-2.988281 11.210938.097656 3.085938 3.085938 3.132812 8.074219.097656 11.214844l-5.65625 5.65625c-2.007812 2.078125-4.980468 2.914063-7.777344 2.183594-2.796874-.734375-4.980468-2.917969-5.714843-5.714844-.730469-2.796875.101562-5.773437 2.183593-7.78125zm-79.203124 11.3125c-3.121094 3.125-8.1875 3.125-11.308594 0l-5.65625-5.65625c-3.035156-3.140625-2.988282-8.128906.097656-11.214844 3.085938-3.085937 8.074219-3.128906 11.210938-.097656l5.65625 5.65625c3.125 3.125 3.125 8.1875 0 11.3125zm47.601562-24.398437c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8v-8c0-4.417969 3.582031-8 8-8s8 3.582031 8 8zm0 0\" />\r\n      <path d=\"m0 221.105469h448v16h-448zm0 0\" />\r\n      <path d=\"m202.847656 205.105469h42.304688c-12.089844-10.652344-30.214844-10.652344-42.304688 0zm0 0\" />\r\n    </SvgIcon>\r\n  );\r\n})`\r\n  color: white;\r\n  height: 2em;\r\n  width: 2em;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst StyledToolbar = styled(Toolbar)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  flex-grow: 1;\r\n`;\r\nconst HeaderIconButton = styled(IconButton)`\r\n  color: white;\r\n`;\r\n\r\nexport default React.forwardRef(function Header(props, ref) {\r\n  const { encodeState } = useStore();\r\n  const { event } = useAnalytics();\r\n  const [installPrompt, setInstallPrompt] = useState();\r\n\r\n  window.addEventListener(\"beforeinstallprompt\", e => {\r\n    setInstallPrompt(e);\r\n  });\r\n\r\n  const handleShare = async () => {\r\n    try {\r\n      await navigator.share({\r\n        title: \"Part Placer\",\r\n        text: \"A shared layout from part placer!\",\r\n        url: `${window.location.origin}/?share=${encodeState()}`\r\n      });\r\n    } catch (err) {\r\n      console.error(\"navigator share\", err);\r\n    }\r\n  };\r\n\r\n  const handleInstall = async e => {\r\n    installPrompt.prompt();\r\n    const { outcome } = await installPrompt.userChoice;\r\n    if (outcome === \"accepted\") {\r\n      event({ category: \"App\", action: \"Installed\" });\r\n    } else {\r\n      event({ category: \"App\", action: \"Install declined\" });\r\n    }\r\n    setInstallPrompt(null);\r\n  };\r\n\r\n  return (\r\n    <StyledAppBar position=\"static\">\r\n      <StyledToolbar>\r\n        <TitleLink component={ReachLink} to=\"/\">\r\n          <Hidden xsDown>\r\n            {\" \"}\r\n            <SawIcon title=\"Part Placer\" color=\"primary\" />\r\n          </Hidden>\r\n          <span>Part Placer</span>\r\n        </TitleLink>\r\n        <ButtonContainer ref={ref}></ButtonContainer>\r\n        {navigator.share && (\r\n          <HeaderIconButton onClick={handleShare}>\r\n            <ShareIcon />\r\n          </HeaderIconButton>\r\n        )}\r\n        {installPrompt && (\r\n          <HeaderIconButton onClick={handleInstall}>\r\n            <AddCircleIcon />\r\n          </HeaderIconButton>\r\n        )}\r\n        <AppBarLink title=\"About Part Placer\" component={ReachLink} to=\"/about\">\r\n          <IconButton>\r\n            <HelpIcon />\r\n          </IconButton>\r\n        </AppBarLink>\r\n      </StyledToolbar>\r\n    </StyledAppBar>\r\n  );\r\n});\r\n","import React, { useReducer } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useAnalytics } from \"./Analytics\";\r\n\r\n// mutations\r\nconst MATERIAL_CHANGE = \"MATERIAL_CHANGE\";\r\nconst ADD_PART = \"ADD_PART\";\r\nconst UPDATE_PARTS = \"UPDATE_PARTS\";\r\nconst DELETE_MATERIAL = \"DELETE_MATERIAL\";\r\nconst RESET_STATE = \"RESET_STATE\";\r\nconst ACKNOWLEDGE_WELCOME = \"ACKNOWLEDGE_WELCOME\";\r\nconst HYDRATE = \"HYDRATE\";\r\nconst SET_KERF = \"SET_KERF\";\r\nconst SET_ROTATION = \"SET_ROTATION\";\r\nconst SET_SELECTION_STRATEGY = \"SET_SELECTION_STRATEGY\";\r\nconst SET_SPLIT_STRATEGY = \"SET_SPLIT_STRATEGY\";\r\nconst SET_SORT_STRATEGY = \"SET_SORT_STRATEGY\";\r\n\r\nexport const defaultInitialState = {\r\n  materials: [],\r\n  showWelcome: true,\r\n  shared: false,\r\n  allowRotation: true,\r\n  kerfSize: \"0\",\r\n  selectionStrategy: \"\",\r\n  splitStrategy: \"\",\r\n  sortStategy: \"\"\r\n};\r\n\r\nconst getId = materials =>\r\n  materials.length > 0 ? Math.max(...materials.map(m => m.id)) + 1 : 1;\r\n\r\nconst materialChangeReducer = (state, material) => {\r\n  if (material.id) {\r\n    const newMaterials = [...state.materials];\r\n    const itemIndex = newMaterials.findIndex(m => m.id === material.id);\r\n    const modifiedItem = { ...newMaterials[itemIndex], ...material };\r\n    newMaterials[itemIndex] = modifiedItem;\r\n    return { ...state, materials: newMaterials };\r\n  } else {\r\n    const newMaterial = { ...material, parts: [], id: getId(state.materials) };\r\n    return {\r\n      ...state,\r\n      materials: [...state.materials, newMaterial],\r\n      showWelcome: false\r\n    };\r\n  }\r\n};\r\n\r\nconst updatePartsReducer = (state, { materialId, parts }) => {\r\n  const newMaterials = [...state.materials];\r\n  const itemIndex = newMaterials.findIndex(m => m.id === materialId);\r\n  const clonedMaterial = { ...newMaterials[itemIndex] };\r\n  const updatedParts = parts.map(p => ({ ...p, isNew: false }));\r\n  clonedMaterial.parts = updatedParts;\r\n  newMaterials[itemIndex] = clonedMaterial;\r\n  return { ...state, materials: newMaterials };\r\n};\r\n\r\nconst deleteMaterialReducer = (state, materialId) => {\r\n  const newMaterials = state.materials.filter(m => m.id !== materialId);\r\n  return { ...state, materials: newMaterials };\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case MATERIAL_CHANGE:\r\n      return materialChangeReducer(state, action.payload);\r\n    case DELETE_MATERIAL:\r\n      return deleteMaterialReducer(state, action.payload);\r\n    case UPDATE_PARTS:\r\n      return updatePartsReducer(state, action.payload);\r\n    case RESET_STATE:\r\n      return { ...defaultInitialState, showWelcome: state.showWelcome };\r\n    case ACKNOWLEDGE_WELCOME:\r\n      return { ...state, showWelcome: false };\r\n    case SET_KERF:\r\n      return { ...state, kerfSize: action.payload };\r\n    case SET_ROTATION:\r\n      return { ...state, allowRotation: action.payload };\r\n    case HYDRATE:\r\n      return { ...action.payload, showWelcome: state.showWelcome };\r\n    case SET_SELECTION_STRATEGY:\r\n      return { ...state, selectionStrategy: action.payload };\r\n    case SET_SPLIT_STRATEGY:\r\n      return { ...state, splitStrategy: action.payload };\r\n    case SET_SORT_STRATEGY:\r\n      return { ...state, sortStrategy: action.payload };\r\n    default:\r\n      throw new Error(`Unknown action type ${action.type}`);\r\n  }\r\n};\r\n\r\nconst StoreContext = React.createContext();\r\nconst STORAGE_KEY = \"StoreContext\";\r\n\r\nconst saveState = state =>\r\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\r\n\r\nexport function StoreProvider({ value: overrideState, ...props }) {\r\n  let initialState = defaultInitialState;\r\n  if (overrideState) {\r\n    initialState = overrideState;\r\n    saveState(initialState);\r\n  } else {\r\n    const savedState = window.localStorage.getItem(STORAGE_KEY);\r\n    if (savedState) {\r\n      initialState = JSON.parse(savedState);\r\n      // kerf size added post-launch, so add to any states being loaded that don't have it set\r\n      if (!initialState.kerfSize) {\r\n        initialState.kerfSize = defaultInitialState.kerfSize;\r\n      }\r\n      if (!initialState.allowRotation) {\r\n        initialState.allowRotation = defaultInitialState.allowRotation;\r\n      }\r\n    }\r\n  }\r\n\r\n  const localStorageEnabledReducer = (...args) => {\r\n    const updatedState = reducer(...args);\r\n    saveState(updatedState);\r\n    return updatedState;\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(\r\n    localStorageEnabledReducer,\r\n    initialState\r\n  );\r\n\r\n  const value = React.useMemo(() => {\r\n    return [state, dispatch];\r\n  }, [state]);\r\n\r\n  return <StoreContext.Provider value={value} {...props} />;\r\n}\r\n\r\nStoreProvider.propTypes = { value: PropTypes.object };\r\n\r\nfunction utoa(data) {\r\n  return btoa(unescape(encodeURIComponent(data)));\r\n}\r\n\r\nexport function useStore() {\r\n  const context = React.useContext(StoreContext);\r\n  if (!context) {\r\n    throw new Error(\"useStore must be called with a StoreProvider\");\r\n  }\r\n\r\n  const [state, dispatch] = context;\r\n  const { event } = useAnalytics();\r\n\r\n  return {\r\n    state,\r\n    dispatch,\r\n    addPart: materialId => {\r\n      event({ category: \"Parts\", action: \"Add Part\" });\r\n      return dispatch({ type: ADD_PART, payload: materialId });\r\n    },\r\n    encodeState: () => utoa(window.localStorage.getItem(STORAGE_KEY)),\r\n    updateParts: (materialId, parts) => {\r\n      event({ category: \"Parts\", action: \"Update Parts\" });\r\n      return dispatch({\r\n        type: UPDATE_PARTS,\r\n        payload: { materialId, parts }\r\n      });\r\n    },\r\n    deleteMaterial: materialId => {\r\n      event({ category: \"Parts\", action: \"Delete Material\" });\r\n      return dispatch({ type: DELETE_MATERIAL, payload: materialId });\r\n    },\r\n    materialChanged: material => {\r\n      event({\r\n        category: \"Parts\",\r\n        action: material.id ? \"Material Updated\" : \"Material Added\"\r\n      });\r\n      return dispatch({ type: MATERIAL_CHANGE, payload: material });\r\n    },\r\n    resetState: () => {\r\n      event({\r\n        category: \"Parts\",\r\n        action: \"Reset\"\r\n      });\r\n      return dispatch({ type: RESET_STATE });\r\n    },\r\n    hydrate: state => {\r\n      return dispatch({ type: HYDRATE, payload: state });\r\n    },\r\n    setKerf: kerfSize => {\r\n      return dispatch({ type: SET_KERF, payload: kerfSize });\r\n    },\r\n    setRotation: rotationAllowed => {\r\n      return dispatch({ type: SET_ROTATION, payload: rotationAllowed });\r\n    },\r\n    setSelectionStrategy: strategy => {\r\n      return dispatch({ type: SET_SELECTION_STRATEGY, payload: strategy });\r\n    },\r\n    setSplitStrategy: strategy => {\r\n      return dispatch({ type: SET_SPLIT_STRATEGY, payload: strategy });\r\n    },\r\n    setSortStrategy: strategy => {\r\n      return dispatch({ type: SET_SORT_STRATEGY, payload: strategy });\r\n    },\r\n    acknowledgeWelcome: () => {\r\n      event({\r\n        category: \"Parts\",\r\n        action: \"Welcome acknowledged\"\r\n      });\r\n      return dispatch({ type: ACKNOWLEDGE_WELCOME });\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PaddedPaper } from \"./pattern\";\r\nimport { LinearProgress, Typography } from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CenteredTypography = styled(Typography)`\r\n  text-align: center;\r\n`;\r\n\r\nexport default function LoadingIndicator({ children, message }) {\r\n  return (\r\n    <PaddedPaper>\r\n      <LinearProgress />\r\n      <CenteredTypography color=\"textPrimary\" variant=\"h4\">\r\n        {message || children}\r\n      </CenteredTypography>\r\n    </PaddedPaper>\r\n  );\r\n}\r\n\r\nLoadingIndicator.propTypes = {\r\n  children: PropTypes.node,\r\n  message: PropTypes.string\r\n};\r\n","export * from \"./Analytics\";\r\nexport * from \"./Store\";\r\n"],"sourceRoot":""}